import e from"./index-AgLHWp8z.mjs";import{defineComponent as a,ref as n,reactive as o,computed as t,withAsyncContext as r,watchEffect as l,mergeProps as i,unref as s,withCtx as d,createVNode as u,createBlock as c,openBlock as v,Fragment as h,renderList as p,toDisplayString as m,h as f,Transition as b,toRef as g,watch as x,nextTick as w,useSSRContext as y}from"vue";import{ssrRenderAttrs as k,ssrRenderComponent as C,ssrRenderStyle as z,ssrRenderList as S,ssrInterpolate as M}from"vue/server-renderer";import{P as T}from"./ProductCard-BAukhI_D.mjs";import{a as D,f as V}from"./PriceChip-CraSpppU.mjs";import{g as $,a as j}from"./categories-S8FZ7-Rl.mjs";import{N as B,u as R}from"./Input-DBNoyZOz.mjs";import{N as F,a as U}from"./Checkbox-uGza85BZ.mjs";import{N as H,B as P,V as A,a as N,u as E}from"./Select-C0U9uRTf.mjs";import{off as I,on as O}from"evtd";import{p as _,u as L,b as X,d as Y,j as K,q as W,f as Z,s as G,c as J,l as q,m as Q,n as ee,a as ae,o as ne,t as oe}from"./server.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"./nuxt-link-DlD_4d-2.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"node:path";import"seemly";import"date-fns/locale";import"treemate";import"./Tag-BJGgCXYj.mjs";import"@css-render/vue3-ssr";import"css-render";import"lodash-es";import"@juggle/resize-observer";import"pinia";import"vue-router";import"@css-render/plugin-bem";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const te={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"};const re={common:Y,self:function(e){const{railColor:a,primaryColor:n,baseColor:o,cardColor:t,modalColor:r,popoverColor:l,borderRadius:i,fontSize:s,opacityDisabled:d}=e;return Object.assign(Object.assign({},te),{fontSize:s,markFontSize:s,railColor:a,railColorHover:a,fillColor:n,fillColorHover:n,opacityDisabled:d,handleColor:"#FFF",dotColor:t,dotColorModal:r,dotColorPopover:l,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:"rgba(0, 0, 0, .85)",indicatorBoxShadow:"0 2px 8px 0 rgba(0, 0, 0, 0.12)",indicatorTextColor:o,indicatorBorderRadius:i,dotBorder:`2px solid ${a}`,dotBorderActive:`2px solid ${n}`,dotBoxShadow:""})}},le=K([J("slider","\n display: block;\n padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;\n position: relative;\n z-index: 0;\n width: 100%;\n cursor: pointer;\n user-select: none;\n -webkit-user-select: none;\n ",[ee("reverse",[J("slider-handles",[J("slider-handle-wrapper","\n transform: translate(50%, -50%);\n ")]),J("slider-dots",[J("slider-dot","\n transform: translateX(50%, -50%);\n ")]),ee("vertical",[J("slider-handles",[J("slider-handle-wrapper","\n transform: translate(-50%, -50%);\n ")]),J("slider-marks",[J("slider-mark","\n transform: translateY(calc(-50% + var(--n-dot-height) / 2));\n ")]),J("slider-dots",[J("slider-dot","\n transform: translateX(-50%) translateY(0);\n ")])])]),ee("vertical","\n box-sizing: content-box;\n padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);\n width: var(--n-rail-width-vertical);\n height: 100%;\n ",[J("slider-handles","\n top: calc(var(--n-handle-size) / 2);\n right: 0;\n bottom: calc(var(--n-handle-size) / 2);\n left: 0;\n ",[J("slider-handle-wrapper","\n top: unset;\n left: 50%;\n transform: translate(-50%, 50%);\n ")]),J("slider-rail","\n height: 100%;\n ",[ae("fill","\n top: unset;\n right: 0;\n bottom: unset;\n left: 0;\n ")]),ee("with-mark","\n width: var(--n-rail-width-vertical);\n margin: 0 32px 0 8px;\n "),J("slider-marks","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 22px;\n font-size: var(--n-mark-font-size);\n ",[J("slider-mark","\n transform: translateY(50%);\n white-space: nowrap;\n ")]),J("slider-dots","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 50%;\n ",[J("slider-dot","\n transform: translateX(-50%) translateY(50%);\n ")])]),ee("disabled","\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n ",[J("slider-handle","\n cursor: not-allowed;\n ")]),ee("with-mark","\n width: 100%;\n margin: 8px 0 32px 0;\n "),K("&:hover",[J("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[ae("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),J("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),ee("active",[J("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[ae("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),J("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),J("slider-marks","\n position: absolute;\n top: 18px;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[J("slider-mark","\n position: absolute;\n transform: translateX(-50%);\n white-space: nowrap;\n ")]),J("slider-rail","\n width: 100%;\n position: relative;\n height: var(--n-rail-height);\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n border-radius: calc(var(--n-rail-height) / 2);\n ",[ae("fill","\n position: absolute;\n top: 0;\n bottom: 0;\n border-radius: calc(var(--n-rail-height) / 2);\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-fill-color);\n ")]),J("slider-handles","\n position: absolute;\n top: 0;\n right: calc(var(--n-handle-size) / 2);\n bottom: 0;\n left: calc(var(--n-handle-size) / 2);\n ",[J("slider-handle-wrapper","\n outline: none;\n position: absolute;\n top: 50%;\n transform: translate(-50%, -50%);\n cursor: pointer;\n display: flex;\n ",[J("slider-handle","\n height: var(--n-handle-size);\n width: var(--n-handle-size);\n border-radius: 50%;\n overflow: hidden;\n transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);\n background-color: var(--n-handle-color);\n box-shadow: var(--n-handle-box-shadow);\n ",[K("&:hover","\n box-shadow: var(--n-handle-box-shadow-hover);\n ")]),K("&:focus",[J("slider-handle","\n box-shadow: var(--n-handle-box-shadow-focus);\n ",[K("&:hover","\n box-shadow: var(--n-handle-box-shadow-active);\n ")])])])]),J("slider-dots","\n position: absolute;\n top: 50%;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[ee("transition-disabled",[J("slider-dot","transition: none;")]),J("slider-dot","\n transition:\n border-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n position: absolute;\n transform: translate(-50%, -50%);\n height: var(--n-dot-height);\n width: var(--n-dot-width);\n border-radius: var(--n-dot-border-radius);\n overflow: hidden;\n box-sizing: border-box;\n border: var(--n-dot-border);\n background-color: var(--n-dot-color);\n ",[ee("active","border: var(--n-dot-border-active);")])])]),J("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[ne()]),J("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[ee("top","\n margin-bottom: 12px;\n "),ee("right","\n margin-left: 12px;\n "),ee("bottom","\n margin-top: 12px;\n "),ee("left","\n margin-right: 12px;\n "),ne()]),q(J("slider",[J("slider-dot","background-color: var(--n-dot-color-modal);")])),Q(J("slider",[J("slider-dot","background-color: var(--n-dot-color-popover);")]))]);function isTouchEvent(e){return(void 0).TouchEvent&&e instanceof(void 0).TouchEvent}function useRefs(){const e=new Map;return[e,a=>n=>{e.set(a,n)}]}const ie=a({name:"Slider",props:Object.assign(Object.assign({},X.props),{to:E.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onDragstart:[Function],onDragend:[Function]}),slots:Object,setup(e){const{mergedClsPrefixRef:a,namespaceRef:o,inlineThemeDisabled:r}=L(e),l=X("Slider","-slider",le,re,e,a),i=n(null),[s,d]=useRefs(),[u,c]=useRefs(),v=n(new Set),h=W(e),{mergedDisabledRef:p}=h,m=t(()=>{const{step:a}=e;if(Number(a)<=0||"mark"===a)return 0;const n=a.toString();let o=0;return n.includes(".")&&(o=n.length-n.indexOf(".")-1),o}),f=n(e.defaultValue),b=g(e,"value"),y=R(b,f),k=t(()=>{const{value:a}=y;return(e.range?a:[a]).map(clampValue)}),C=t(()=>k.value.length>2),z=t(()=>void 0===e.placement?e.vertical?"right":"top":e.placement),S=t(()=>{const{marks:a}=e;return a?Object.keys(a).map(Number.parseFloat):null}),M=n(-1),T=n(-1),D=n(-1),V=n(!1),$=n(!1),j=t(()=>{const{vertical:a,reverse:n}=e;return a?n?"top":"bottom":n?"right":"left"}),B=t(()=>{if(C.value)return;const a=k.value,n=valueToPercentage(e.range?Math.min(...a):e.min),o=valueToPercentage(e.range?Math.max(...a):a[0]),{value:t}=j;return e.vertical?{[t]:`${n}%`,height:o-n+"%"}:{[t]:`${n}%`,width:o-n+"%"}}),F=t(()=>{const a=[],{marks:n}=e;if(n){const o=k.value.slice();o.sort((e,a)=>e-a);const{value:t}=j,{value:r}=C,{range:l}=e,i=r?()=>!1:e=>l?e>=o[0]&&e<=o[o.length-1]:e<=o[0];for(const e of Object.keys(n)){const o=Number(e);a.push({active:i(o),key:o,label:n[e],style:{[t]:`${valueToPercentage(o)}%`}})}}return a});function isShowTooltip(a){return e.showTooltip||D.value===a||M.value===a&&V.value}function syncPosition(){u.forEach((e,a)=>{isShowTooltip(a)&&e.syncPosition()})}function doUpdateValue(a){const{"onUpdate:value":n,onUpdateValue:o}=e,{nTriggerFormInput:t,nTriggerFormChange:r}=h;o&&oe(o,a),n&&oe(n,a),f.value=a,t(),r()}function dispatchValueUpdate(a){const{range:n}=e;if(n){if(Array.isArray(a)){const{value:e}=k;a.join()!==e.join()&&doUpdateValue(a)}}else if(!Array.isArray(a)){k.value[0]!==a&&doUpdateValue(a)}}function doDispatchValue(a,n){if(e.range){const e=k.value.slice();e.splice(n,1,a),dispatchValueUpdate(e)}else dispatchValueUpdate(a)}function sanitizeValue(a,n,o){const t=void 0!==o;o||(o=a-n>0?1:-1);const r=S.value||[],{step:l}=e;if("mark"===l){const e=getClosestMark(a,r.concat(n),t?o:void 0);return e?e.value:n}if(l<=0)return n;const{value:i}=m;let s;if(t){const e=Number((n/l).toFixed(i)),a=Math.floor(e),t=e<a?a:a+1;s=getClosestMark(n,[Number(((e>a?a:a-1)*l).toFixed(i)),Number((t*l).toFixed(i)),...r],o)}else{const n=function(a){const{step:n,min:o}=e;if(Number(n)<=0||"mark"===n)return a;const t=Math.round((a-o)/n)*n+o;return Number(t.toFixed(m.value))}(a);s=getClosestMark(a,[...r,n])}return s?clampValue(s.value):n}function clampValue(a){return Math.min(e.max,Math.max(e.min,a))}function valueToPercentage(a){const{max:n,min:o}=e;return(a-o)/(n-o)*100}function getClosestMark(e,a=S.value,n){if(!(null==a?void 0:a.length))return null;let o=null,t=-1;for(;++t<a.length;){const r=a[t]-e,l=Math.abs(r);(void 0===n||r*n>0)&&(null===o||l<o.distance)&&(o={index:t,distance:l,value:a[t]})}return o}function getPointValue(a){const n=i.value;if(!n)return;const o=isTouchEvent(a)?a.touches[0]:a,t=n.getBoundingClientRect();let r;return r=e.vertical?(t.bottom-o.clientY)/t.height:(o.clientX-t.left)/t.width,e.reverse&&(r=1-r),function(a){const{max:n,min:o}=e;return o+(n-o)*a}(r)}function handleStepValue(a){const n=M.value;if(-1===n)return;const{step:o}=e,t=k.value[n];doDispatchValue(sanitizeValue(Number(o)<=0||"mark"===o?t:t+o*a,t,a>0?1:-1),n)}function stopDragging(){V.value&&(V.value=!1,e.onDragend&&oe(e.onDragend),I("touchend",void 0,handleMouseUp),I("mouseup",void 0,handleMouseUp),I("touchmove",void 0,handleMouseMove),I("mousemove",void 0,handleMouseMove))}function handleMouseMove(e){const{value:a}=M;if(!V.value||-1===a)return void stopDragging();const n=getPointValue(e);void 0!==n&&doDispatchValue(sanitizeValue(n,k.value[a]),a)}function handleMouseUp(){stopDragging()}x(M,(e,a)=>{w(()=>T.value=a)}),x(y,()=>{if(e.marks){if($.value)return;$.value=!0,w(()=>{$.value=!1})}w(syncPosition)});const U=t(()=>{const{self:{markFontSize:e,railColor:a,railColorHover:n,fillColor:o,fillColorHover:t,handleColor:r,opacityDisabled:i,dotColor:s,dotColorModal:d,handleBoxShadow:u,handleBoxShadowHover:c,handleBoxShadowActive:v,handleBoxShadowFocus:h,dotBorder:p,dotBoxShadow:m,railHeight:f,railWidthVertical:b,handleSize:g,dotHeight:x,dotWidth:w,dotBorderRadius:y,fontSize:k,dotBorderActive:C,dotColorPopover:z},common:{cubicBezierEaseInOut:S}}=l.value;return{"--n-bezier":S,"--n-dot-border":p,"--n-dot-border-active":C,"--n-dot-border-radius":y,"--n-dot-box-shadow":m,"--n-dot-color":s,"--n-dot-color-modal":d,"--n-dot-color-popover":z,"--n-dot-height":x,"--n-dot-width":w,"--n-fill-color":o,"--n-fill-color-hover":t,"--n-font-size":k,"--n-handle-box-shadow":u,"--n-handle-box-shadow-active":v,"--n-handle-box-shadow-focus":h,"--n-handle-box-shadow-hover":c,"--n-handle-color":r,"--n-handle-size":g,"--n-opacity-disabled":i,"--n-rail-color":a,"--n-rail-color-hover":n,"--n-rail-height":f,"--n-rail-width-vertical":b,"--n-mark-font-size":e}}),H=r?Z("slider",void 0,U,e):void 0,P=t(()=>{const{self:{fontSize:e,indicatorColor:a,indicatorBoxShadow:n,indicatorTextColor:o,indicatorBorderRadius:t}}=l.value;return{"--n-font-size":e,"--n-indicator-border-radius":t,"--n-indicator-box-shadow":n,"--n-indicator-color":a,"--n-indicator-text-color":o}}),A=r?Z("slider-indicator",void 0,P,e):void 0;return{mergedClsPrefix:a,namespace:o,uncontrolledValue:f,mergedValue:y,mergedDisabled:p,mergedPlacement:z,isMounted:G(),adjustedTo:E(e),dotTransitionDisabled:$,markInfos:F,isShowTooltip:isShowTooltip,shouldKeepTooltipTransition:function(e){return!V.value||!(M.value===e&&T.value===e)},handleRailRef:i,setHandleRefs:d,setFollowerRefs:c,fillStyle:B,getHandleStyle:function(e,a){const n=valueToPercentage(e),{value:o}=j;return{[o]:`${n}%`,zIndex:a===M.value?1:0}},activeIndex:M,arrifiedValues:k,followerEnabledIndexSet:v,handleRailMouseDown:function(a){var n,o;if(p.value)return;if(!isTouchEvent(a)&&0!==a.button)return;const t=getPointValue(a);if(void 0===t)return;const r=k.value.slice(),l=e.range?null!==(o=null===(n=getClosestMark(t,r))||void 0===n?void 0:n.index)&&void 0!==o?o:-1:0;-1!==l&&(a.preventDefault(),function(e){var a;~e&&(M.value=e,null===(a=s.get(e))||void 0===a||a.focus())}(l),V.value||(V.value=!0,e.onDragstart&&oe(e.onDragstart),O("touchend",void 0,handleMouseUp),O("mouseup",void 0,handleMouseUp),O("touchmove",void 0,handleMouseMove),O("mousemove",void 0,handleMouseMove)),doDispatchValue(sanitizeValue(t,k.value[l]),l))},handleHandleFocus:function(e){M.value=e,p.value||(D.value=e)},handleHandleBlur:function(e){M.value===e&&(M.value=-1,stopDragging()),D.value===e&&(D.value=-1)},handleHandleMouseEnter:function(e){D.value=e},handleHandleMouseLeave:function(e){D.value===e&&(D.value=-1)},handleRailKeyDown:function(a){if(p.value||!e.keyboard)return;const{vertical:n,reverse:o}=e;switch(a.key){case"ArrowUp":a.preventDefault(),handleStepValue(n&&o?-1:1);break;case"ArrowRight":a.preventDefault(),handleStepValue(!n&&o?-1:1);break;case"ArrowDown":a.preventDefault(),handleStepValue(n&&o?1:-1);break;case"ArrowLeft":a.preventDefault(),handleStepValue(!n&&o?1:-1)}},indicatorCssVars:r?void 0:P,indicatorThemeClass:null==A?void 0:A.themeClass,indicatorOnRender:null==A?void 0:A.onRender,cssVars:r?void 0:U,themeClass:null==H?void 0:H.themeClass,onRender:null==H?void 0:H.onRender}},render(){var e;const{mergedClsPrefix:a,themeClass:n,formatTooltip:o}=this;return null===(e=this.onRender)||void 0===e||e.call(this),f("div",{class:[`${a}-slider`,n,{[`${a}-slider--disabled`]:this.mergedDisabled,[`${a}-slider--active`]:-1!==this.activeIndex,[`${a}-slider--with-mark`]:this.marks,[`${a}-slider--vertical`]:this.vertical,[`${a}-slider--reverse`]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},f("div",{class:`${a}-slider-rail`},f("div",{class:`${a}-slider-rail__fill`,style:this.fillStyle}),this.marks?f("div",{class:[`${a}-slider-dots`,this.dotTransitionDisabled&&`${a}-slider-dots--transition-disabled`]},this.markInfos.map(e=>f("div",{key:e.key,class:[`${a}-slider-dot`,{[`${a}-slider-dot--active`]:e.active}],style:e.style}))):null,f("div",{ref:"handleRailRef",class:`${a}-slider-handles`},this.arrifiedValues.map((e,n)=>{const t=this.isShowTooltip(n);return f(P,null,{default:()=>[f(A,null,{default:()=>f("div",{ref:this.setHandleRefs(n),class:`${a}-slider-handle-wrapper`,tabindex:this.mergedDisabled?-1:0,role:"slider","aria-valuenow":e,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal","aria-disabled":this.disabled,style:this.getHandleStyle(e,n),onFocus:()=>{this.handleHandleFocus(n)},onBlur:()=>{this.handleHandleBlur(n)},onMouseenter:()=>{this.handleHandleMouseEnter(n)},onMouseleave:()=>{this.handleHandleMouseLeave(n)}},_(this.$slots.thumb,()=>[f("div",{class:`${a}-slider-handle`})]))}),this.tooltip&&f(N,{ref:this.setFollowerRefs(n),show:t,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(n),teleportDisabled:this.adjustedTo===E.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>f(b,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(n),onEnter:()=>{this.followerEnabledIndexSet.add(n)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(n)}},{default:()=>{var n;return t?(null===(n=this.indicatorOnRender)||void 0===n||n.call(this),f("div",{class:[`${a}-slider-handle-indicator`,this.indicatorThemeClass,`${a}-slider-handle-indicator--${this.mergedPlacement}`],style:this.indicatorCssVars},"function"==typeof o?o(e):e)):null}})})]})})),this.marks?f("div",{class:`${a}-slider-marks`},this.markInfos.map(e=>f("div",{key:e.key,class:`${a}-slider-mark`,style:e.style},"function"==typeof e.label?e.label():e.label))):null))}}),se=a({__name:"index",__ssrInlineRender:!0,async setup(a){let f,b;const g=n([]),x=o({brand:!0,category:!0,price:!0}),w=n([]),y=n(""),R=n([]),P=n(""),A=n(null),N=n(null);t(()=>w.value.map(e=>({label:e.name,value:e.slug||e.name.toLowerCase().replace(/\s+/g,"-")})));const E=n(([f,b]=r(()=>$()),f=await f,b(),f)),I=t(()=>E.value.map(e=>({label:e.title,value:e.slug}))),O=n([]);l(async()=>{const e=(await import("./brands-DoiRpwzz.mjs")).default;w.value=e}),l(async()=>{g.value=await D()}),l(async()=>{if(!A.value)return N.value=null,void(O.value=[]);const e=await j(A.value);O.value=e.map(e=>({label:e.title,value:e.slug}))});const norm=e=>e?.toLowerCase()?.trim()||"",_=t(()=>{const e=norm(y.value);return w.value.map(e=>({...e,slug:e.slug||e.name.toLowerCase().replace(/\s+/g,"-")})).filter(a=>!e||[a.name,a.slug].join(" ").toLowerCase().includes(e))}),L=n(0),X=n(0),Y=n([0,0]);l(()=>{if(!g.value.length)return;const e=g.value.map(e=>e.priceToman),a=Math.min(...e),n=Math.max(...e);L.value=a,X.value=n,0===Y.value[0]&&0===Y.value[1]&&(Y.value=[a,n])});const K=t(()=>{const e=norm(P.value),a=R.value,n=A.value||"",o=N.value||"";return g.value.filter(t=>{const r=!e||JSON.stringify(t).toLowerCase().includes(e),l=!a.length||a.includes(t.brandSlug),i=!n||t.parentCategory===n,s=!o||t.childCategory===o,d=t.priceToman>=Y.value[0]&&t.priceToman<=Y.value[1];return r&&l&&i&&s&&d})});return(a,n,o,t)=>{const r=e;n(`<section${k(i({class:"container mx-auto px-4 py-8",dir:"rtl"},t))}><div class="grid gap-6 lg:grid-cols-[280px_1fr]"><aside class="lg:sticky lg:top-24 h-fit"><div class="rounded-2xl bg-white p-4 ring-1 ring-slate-200 shadow-sm"><div class="mb-3 flex items-center justify-between"><h3 class="text-sm font-semibold text-slate-700">فیلترها</h3><button type="button" class="text-xs text-sky-600 hover:text-sky-700"> پاک‌سازی </button></div><div class="mb-4">`),n(C(s(B),{value:P.value,"onUpdate:value":e=>P.value=e,placeholder:"جستجوی نام/تگ/ویژگی...",clearable:"",size:"large"},{prefix:d((e,a,n,o)=>{if(!a)return[u(r,{name:"ph:magnifying-glass-duotone"})];a(C(r,{name:"ph:magnifying-glass-duotone"},null,n,o))}),_:1},o)),n('</div><div class="border-t border-slate-200 pt-3 first:border-t-0 first:pt-0"><button type="button" class="flex w-full items-center justify-between text-right"><span class="text-sm font-medium text-slate-700">برند</span>'),n(C(r,{name:x.brand?"ph:caret-up-duotone":"ph:caret-down-duotone"},null,o)),n(`</button><div class="mt-3 space-y-3" style="${z(x.brand?null:{display:"none"})}">`),n(C(s(B),{value:y.value,"onUpdate:value":e=>y.value=e,placeholder:"جستجو برند ...",clearable:"",size:"large"},{prefix:d((e,a,n,o)=>{if(!a)return[u(r,{name:"ph:magnifying-glass-duotone"})];a(C(r,{name:"ph:magnifying-glass-duotone"},null,n,o))}),_:1},o)),n(C(s(F),{value:R.value,"onUpdate:value":e=>R.value=e},{default:d((e,a,n,o)=>{if(!a)return[u("div",{class:"max-h-64 overflow-auto pr-1"},[(v(!0),c(h,null,p(_.value,e=>(v(),c("div",{key:e.slug||e.name,class:"flex items-center justify-between gap-3 border-b border-slate-100 py-3 last:border-b-0"},[u("span",{class:"text-xs text-slate-500"},m(e.nameEn||e.slug||e.name),1),u("div",{class:"flex items-center gap-2"},[u("span",{class:"text-sm text-slate-700"},m(e.name),1),u(s(U),{value:e.slug||e.name.toLowerCase().replace(/\s+/g,"-")},null,8,["value"])])]))),128))])];a(`<div class="max-h-64 overflow-auto pr-1"${o}>\x3c!--[--\x3e`),S(_.value,e=>{a(`<div class="flex items-center justify-between gap-3 border-b border-slate-100 py-3 last:border-b-0"${o}><span class="text-xs text-slate-500"${o}>${M(e.nameEn||e.slug||e.name)}</span><div class="flex items-center gap-2"${o}><span class="text-sm text-slate-700"${o}>${M(e.name)}</span>`),a(C(s(U),{value:e.slug||e.name.toLowerCase().replace(/\s+/g,"-")},null,n,o)),a("</div></div>")}),a("\x3c!--]--\x3e</div>")}),_:1},o)),n('</div></div><div class="border-t border-slate-200 pt-3"><button type="button" class="flex w-full items-center justify-between text-right"><span class="text-sm font-medium text-slate-700">دسته‌بندی</span>'),n(C(r,{name:x.category?"ph:caret-up-duotone":"ph:caret-down-duotone"},null,o)),n(`</button><div class="mt-3 space-y-3" style="${z(x.category?null:{display:"none"})}">`),n(C(s(H),{value:A.value,"onUpdate:value":e=>A.value=e,options:I.value,placeholder:"دسته اصلی",clearable:"",size:"large"},null,o)),n(C(s(H),{value:N.value,"onUpdate:value":e=>N.value=e,options:O.value,placeholder:"زیر دسته",clearable:"",size:"large",disabled:!A.value},null,o)),n('</div></div><div class="border-t border-slate-200 pt-3"><button type="button" class="flex w-full items-center justify-between text-right"><span class="text-sm font-medium text-slate-700">محدوده قیمت</span>'),n(C(r,{name:x.price?"ph:caret-up-duotone":"ph:caret-down-duotone"},null,o)),n(`</button><div class="mt-4" style="${z(x.price?null:{display:"none"})}">`),n(C(s(ie),{value:Y.value,"onUpdate:value":e=>Y.value=e,range:"",min:L.value,max:X.value,step:5e4},null,o)),n(`<div class="mt-2 flex items-center justify-between text-xs text-slate-600"><span>${M(s(V)(Y.value[0]))}</span><span>${M(s(V)(Y.value[1]))}</span></div></div></div></div></aside><main><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">\x3c!--[--\x3e`),S(K.value,e=>{n(C(T,{key:e.id,product:e},null,o))}),n("\x3c!--]--\x3e</div>"),K.value.length?n("\x3c!----\x3e"):n('<div class="mt-6 text-slate-500">محصولی یافت نشد.</div>'),n("</main></div></section>")}}}),de=se.setup;se.setup=(e,a)=>{const n=y();return(n.modules||(n.modules=new Set)).add("pages/products/index.vue"),de?de(e,a):void 0};export{se as default};
//# sourceMappingURL=index-CaWGxBvp.mjs.map
