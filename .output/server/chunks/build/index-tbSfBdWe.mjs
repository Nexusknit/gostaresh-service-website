import{_ as e}from"./nuxt-link-DlD_4d-2.mjs";import t from"./index-AgLHWp8z.mjs";import{defineComponent as i,ref as r,computed as s,h as o,mergeProps as n,withCtx as m,createVNode as a,createTextVNode as l,unref as p,useSSRContext as d}from"vue";import{ssrRenderAttrs as u,ssrRenderComponent as c}from"vue/server-renderer";import{b as f,c as v}from"./api-qvnChiK5.mjs";import{C as g,F as y}from"./server.mjs";import{u as b}from"./use-message-DH0YWJK4.mjs";import{N as h}from"./DataTable-BeR9LhSC.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"node:path";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"pinia";import"vue-router";import"@css-render/vue3-ssr";import"seemly";import"@css-render/plugin-bem";import"css-render";import"lodash-es";import"evtd";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";import"./Input-DBNoyZOz.mjs";import"date-fns/locale";import"./Checkbox-uGza85BZ.mjs";import"./Ellipsis-DDM1ZdJ1.mjs";import"./Select-C0U9uRTf.mjs";import"treemate";import"./Tag-BJGgCXYj.mjs";import"@juggle/resize-observer";import"./get-slot-BIpdyb5h.mjs";const x=i({__name:"index",__ssrInlineRender:!0,setup(i){const d=b(),x=r([]),j=r(!1);async function onDelete(e){if(confirm("حذف نوع؟"))try{await f(`/website-setting-kinds/${e.id}`),d.success("حذف شد"),async function(){j.value=!0;try{x.value=await v("/website-setting-kinds")}finally{j.value=!1}}()}catch(e){d.error(e?.data?.message||"خطا در حذف")}}const k=s(()=>[{title:"نام",key:"name"},{title:"شناسه",key:"id"},{title:"عملیات",key:"actions",render:e=>o("div",{class:"flex items-center gap-2"},[o(g,{size:"small",onClick:()=>function(e){y(`/admin/website-setting-kinds/${e.id}`)}(e)},{default:()=>"ویرایش"}),o(g,{size:"small",type:"error",secondary:!0,onClick:()=>onDelete(e)},{default:()=>"حذف"})])}]);return(i,r,s,o)=>{const d=e,f=t;r(`<section${u(n({class:"container mx-auto px-4 py-8",dir:"rtl"},o))}><div class="mb-5 flex items-center justify-between gap-3"><h1 class="text-xl font-bold">نوع تنظیمات سایت</h1>`),r(c(d,{to:"/admin/website-setting-kinds/create",class:"inline-flex items-center gap-2 rounded-xl bg-sky-600 text-white px-3 py-2 text-sm"},{default:m((e,t,i,r)=>{if(!t)return[a(f,{name:"ph:plus"}),l(" افزودن نوع ")];t(c(f,{name:"ph:plus"},null,i,r)),t(" افزودن نوع ")}),_:1},s)),r("</div>"),r(c(p(h),{columns:k.value,data:x.value,loading:j.value,bordered:!1,class:"rounded-2xl ring-1 ring-slate-200 overflow-hidden"},null,s)),r("</section>")}}}),j=x.setup;x.setup=(e,t)=>{const i=d();return(i.modules||(i.modules=new Set)).add("pages/admin/website-setting-kinds/index.vue"),j?j(e,t):void 0};export{x as default};
//# sourceMappingURL=index-tbSfBdWe.mjs.map
