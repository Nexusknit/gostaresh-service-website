import{defineComponent as e,computed as t,mergeProps as o,shallowRef as l,toValue as n,reactive as s,ref as r,watch as i,withCtx as a,createVNode as u,createTextVNode as c,toDisplayString as d,unref as p,getCurrentInstance as v,useSSRContext as m}from"vue";import{ssrRenderAttrs as f,ssrRenderComponent as x,ssrRenderClass as b,ssrRenderSlot as h,ssrRenderAttr as g,ssrRenderList as y,ssrInterpolate as w,ssrRenderTeleport as _}from"vue/server-renderer";import{_ as k}from"./nuxt-link-DlD_4d-2.mjs";import E from"./index-AgLHWp8z.mjs";import{p as S}from"../_/nitro.mjs";import{n as j,t as $,a as z,w as L,b as M,c as T,i as A,d as H,u as W}from"./index-CnRzh9fC.mjs";import{G as O,_ as C}from"./server.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"node:path";import"pinia";import"vue-router";import"@css-render/vue3-ssr";import"seemly";import"@css-render/plugin-bem";import"css-render";import"lodash-es";import"evtd";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const D=void 0;function unrefElement(e){var t;const o=n(e);return null!=(t=null==o?void 0:o.$el)?t:o}function useEventListener(...e){const o=[],cleanup=()=>{o.forEach(e=>e()),o.length=0},l=t(()=>{const t=z(n(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0}),s=L(()=>{var t,o;return[null!=(o=null==(t=l.value)?void 0:t.map(e=>unrefElement(e)))?o:[D].filter(e=>null!=e),z(n(l.value?e[1]:e[0])),z(p(l.value?e[2]:e[1])),n(l.value?e[3]:e[2])]},([e,t,l,n])=>{if(cleanup(),!(null==e?void 0:e.length)||!(null==t?void 0:t.length)||!(null==l?void 0:l.length))return;const s=A(n)?{...n}:n;o.push(...e.flatMap(e=>t.flatMap(t=>l.map(o=>((e,t,o,l)=>(e.addEventListener(t,o,l),()=>e.removeEventListener(t,o,l)))(e,t,o,s)))))},{flush:"post"});return M(cleanup),()=>{s(),cleanup()}}function useMounted(){const e=l(!1);return v(),e}function useSupported(e){const o=useMounted();return t(()=>(o.value,Boolean(e())))}function useScroll(e,o={}){const{throttle:r=0,idle:a=200,onStop:u=j,onScroll:c=j,offset:d={left:0,right:0,top:0,bottom:0},observe:p={mutation:!1},eventListenerOptions:v={capture:!1,passive:!0},behavior:m="auto",window:f=D,onError:x=e=>{console.error(e)}}=o,b="boolean"==typeof p?{mutation:p}:p,h=l(0),g=l(0),y=t({get:()=>h.value,set(e){scrollTo(e,void 0)}}),w=t({get:()=>g.value,set(e){scrollTo(void 0,e)}});function scrollTo(t,o){var l,s,r,i;if(!f)return;const a=n(e);if(!a)return;null==(r=a instanceof Document?f.document.body:a)||r.scrollTo({top:null!=(l=n(o))?l:w.value,left:null!=(s=n(t))?s:y.value,behavior:n(m)});const u=(null==(i=null==a?void 0:a.document)?void 0:i.documentElement)||(null==a?void 0:a.documentElement)||a;null!=y&&(h.value=u.scrollLeft),null!=w&&(g.value=u.scrollTop)}const _=l(!1),k=s({left:!0,right:!1,top:!0,bottom:!1}),E=s({left:!1,right:!1,top:!1,bottom:!1}),onScrollEnd=e=>{_.value&&(_.value=!1,E.left=!1,E.right=!1,E.top=!1,E.bottom=!1,u(e))},S=W(onScrollEnd,r+a),setArrivedState=e=>{var t;if(!f)return;const o=(null==(t=null==e?void 0:e.document)?void 0:t.documentElement)||(null==e?void 0:e.documentElement)||unrefElement(e),{display:l,flexDirection:n,direction:s}=getComputedStyle(o),r="rtl"===s?-1:1,i=o.scrollLeft;E.left=i<h.value,E.right=i>h.value;const a=Math.abs(i*r)<=(d.left||0),u=Math.abs(i*r)+o.clientWidth>=o.scrollWidth-(d.right||0)-1;"flex"===l&&"row-reverse"===n?(k.left=u,k.right=a):(k.left=a,k.right=u),h.value=i;let c=o.scrollTop;e!==f.document||c||(c=f.document.body.scrollTop),E.top=c<g.value,E.bottom=c>g.value;const p=Math.abs(c)<=(d.top||0),v=Math.abs(c)+o.clientHeight>=o.scrollHeight-(d.bottom||0)-1;"flex"===l&&"column-reverse"===n?(k.top=v,k.bottom=p):(k.top=p,k.bottom=v),g.value=c},onScrollHandler=e=>{var t;if(!f)return;const o=null!=(t=e.target.documentElement)?t:e.target;setArrivedState(o),_.value=!0,S(e),c(e)};return useEventListener(e,"scroll",r?H(onScrollHandler,r,!0,!1):onScrollHandler,v),$(()=>{try{const t=n(e);if(!t)return;setArrivedState(t)}catch(e){x(e)}}),(null==b?void 0:b.mutation)&&null!=e&&e!==f&&void 0!==e&&function(e,o,l={}){const{window:s=D,...r}=l;let a;const u=useSupported(()=>s&&"MutationObserver"in s),cleanup=()=>{a&&(a.disconnect(),a=void 0)},c=t(()=>{const t=n(e),o=z(t).map(unrefElement).filter(T);return new Set(o)}),d=i(c,e=>{cleanup(),u.value&&e.size&&(a=new MutationObserver(o),e.forEach(e=>a.observe(e,r)))},{immediate:!0,flush:"post"}),stop=()=>{d(),cleanup()};M(stop)}(e,()=>{const t=n(e);t&&setArrivedState(t)},{attributes:!0,childList:!0,subtree:!0}),useEventListener(e,"scrollend",onScrollEnd,v),{x:y,y:w,isScrolling:_,arrivedState:k,directions:E,measure(){const t=n(e);f&&t&&setArrivedState(t)}}}function useWindowScroll(e={}){const{window:t=D,...o}=e;return useScroll(t,o)}const R=S("/images/brands/gs-warranty-logo.png"),F=e({__name:"AppHeader",__ssrInlineRender:!0,setup(e){const l=[{to:"/",label:"خانه"},{to:"/warranty/check",label:"استعلام"},{to:"/warranty/policies",label:"شرایط گارانتی"},{to:"/representatives",label:"نمایندگی‌ها"},{to:"/education",label:"آموزش"},{to:"/about",label:"درباره ما"}];try{l.splice(1,0,{to:"/products",label:"محصولات"},{to:"/categories",label:"دسته‌ها"})}catch{}const n=O(),{y:s}=useWindowScroll(),p=t(()=>s.value<=2),v=t(()=>"/"===n.path&&p.value),m=t(()=>v.value?"px-3 py-2 rounded-xl transition text-white/90 hover:text-white hover:bg-white/10":"px-3 py-2 rounded-xl transition text-slate-700 hover:text-sky-700 hover:bg-slate-100"),h=r(!1),closeMobile=()=>h.value=!1;i(()=>n.path,()=>closeMobile());return(e,t,s,r)=>{const i=k,p=E;t(`<header${f(o({class:["fixed inset-x-0 top-0 z-40 transition-colors duration-300",v.value?"bg-transparent backdrop-blur-0 border-transparent shadow-none":"bg-white/80 backdrop-blur border-b shadow-sm"],dir:"rtl"},r))}><div class="container mx-auto px-4 py-3 flex items-center justify-between">`),t(x(i,{to:"/",class:["group flex items-center gap-3 rounded-xl focus:outline-none focus-visible:ring-2",v.value?"focus-visible:ring-white/40":"focus-visible:ring-sky-500/40"]},{default:a((e,t,o,l)=>{if(!t)return[u("img",{src:R,alt:"لوگوی گسترش سرویس",class:"h-9 w-auto"}),u("span",{class:["text-sm transition-colors",v.value?"text-white/90 group-hover:text-white":"text-slate-600 group-hover:text-sky-600"]}," گسترش سرویس ",2)];t(`<img${g("src",R)} alt="لوگوی گسترش سرویس" class="h-9 w-auto"${l}><span class="${b([v.value?"text-white/90 group-hover:text-white":"text-slate-600 group-hover:text-sky-600","text-sm transition-colors"])}"${l}> گسترش سرویس </span>`)}),_:1},s)),t('<nav aria-label="ناوبری اصلی" class="hidden md:flex items-center gap-1">\x3c!--[--\x3e'),y(l,e=>{var o;t(x(i,{key:e.to,to:e.to,class:[m.value,(o=e.to,n.path===o?v.value?"bg-white/10 text-white":"bg-sky-50 text-sky-700":"")]},{default:a((t,o,l,n)=>{if(!o)return[c(d(e.label),1)];o(`${w(e.label)}`)}),_:2},s))}),t(`\x3c!--]--\x3e</nav><button type="button" class="${b([v.value?"text-white hover:bg-white/10 focus-visible:ring-white/40":"text-slate-700 hover:bg-slate-100 focus-visible:ring-sky-500/40","md:hidden inline-flex items-center justify-center rounded-xl px-3 py-2 focus:outline-none focus-visible:ring-2 transition-colors"])}" aria-label="باز کردن منو">`),t(x(p,{name:"ph:list",size:"24"},null,s)),t("</button></div>"),_(t,e=>{h.value?e('<div class="fixed inset-0 z-40 bg-slate-900/50 backdrop-blur-sm md:hidden"></div>'):e("\x3c!----\x3e"),h.value?(e('<nav class="fixed inset-y-0 right-0 z-50 w-72 max-w-full bg-white shadow-xl md:hidden flex flex-col gap-6 p-6" dir="rtl" aria-label="منوی موبایل"><div class="flex items-center justify-between"><span class="text-sm font-semibold text-slate-500">منوی اصلی</span><button type="button" class="inline-flex items-center justify-center rounded-xl p-2 text-slate-500 hover:bg-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300" aria-label="بستن منو">'),e(x(p,{name:"ph:x",size:"22"},null,s)),e('</button></div><ul class="flex flex-col gap-2">\x3c!--[--\x3e'),y(l,t=>{var o;e("<li>"),e(x(i,{to:t.to,class:(o=t.to,["flex items-center justify-between rounded-xl px-4 py-2 text-base font-medium transition",n.path===o?"bg-sky-50 text-sky-700":"text-slate-700 hover:bg-slate-100"].join(" ")),onClick:e=>closeMobile()},{default:a((e,o,l,n)=>{if(!o)return[u("span",null,d(t.label),1),u(p,{name:"ph:caret-left",size:"16",class:"text-slate-400"})];o(`<span${n}>${w(t.label)}</span>`),o(x(p,{name:"ph:caret-left",size:"16",class:"text-slate-400"},null,l,n))}),_:2},s)),e("</li>")}),e("\x3c!--]--\x3e</ul></nav>")):e("\x3c!----\x3e")},"body",!1,s),t("</header>")}}}),I=F.setup;F.setup=(e,t)=>{const o=m();return(o.modules||(o.modules=new Set)).add("components/AppHeader.vue"),I?I(e,t):void 0};const B=Object.assign(F,{__name:"AppHeader"}),G={};const q=G.setup;G.setup=(e,t)=>{const o=m();return(o.modules||(o.modules=new Set)).add("components/AppFooter.vue"),q?q(e,t):void 0};const J=Object.assign(C(G,[["ssrRender",function(e,t,l,n){const s=k;t(`<footer${f(o({class:"border-t bg-white"},n))}><div class="container mx-auto px-4 py-6 text-sm text-slate-600 flex flex-col gap-3 md:flex-row md:items-center md:justify-between" dir="rtl"><div class="flex flex-wrap items-center gap-3">`),t(x(s,{to:"/about",class:"hover:text-sky-600 transition"},{default:a((e,t,o,l)=>{if(!t)return[c("درباره ما")];t("درباره ما")}),_:1},l)),t(x(s,{to:"/representatives",class:"hover:text-sky-600 transition"},{default:a((e,t,o,l)=>{if(!t)return[c("نمایندگی‌ها")];t("نمایندگی‌ها")}),_:1},l)),t(x(s,{to:"/education",class:"hover:text-sky-600 transition"},{default:a((e,t,o,l)=>{if(!t)return[c("آموزش")];t("آموزش")}),_:1},l)),t('</div><div class="flex flex-col gap-1 text-xs text-slate-500 md:text-right"><span>سایت گسترش سرویس: gsiran.ir</span><span>سامانه خدمات پس از فروش: service.gsiran.ir</span></div></div></footer>')}]]),{__name:"AppFooter"}),K=e({__name:"default",__ssrInlineRender:!0,setup(e){const l=O(),{y:n}=useWindowScroll(),s=t(()=>n.value<=2),r=t(()=>"/"===l.path&&s.value),i=t(()=>["flex-1 container mx-auto px-4",r.value?"pt-0 pb-6":"pt-16 pb-6","transition-[padding] duration-200"]);return(e,t,l,n)=>{t(`<div${f(o({class:"min-h-screen flex flex-col bg-slate-50 overflow-x-clip"},n))}>`),t(x(B,null,null,l)),t(`<main class="${b(i.value)}">`),h(e.$slots,"default",{},null,t,l),t("</main>"),t(x(J,null,null,l)),t("</div>")}}}),N=K.setup;K.setup=(e,t)=>{const o=m();return(o.modules||(o.modules=new Set)).add("layouts/default.vue"),N?N(e,t):void 0};export{K as default};
//# sourceMappingURL=default-BuoE8jBh.mjs.map
