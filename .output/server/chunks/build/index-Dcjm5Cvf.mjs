import{_ as e}from"./nuxt-link-DlD_4d-2.mjs";import t from"./index-AgLHWp8z.mjs";import{defineComponent as r,ref as i,computed as s,h as o,mergeProps as n,withCtx as m,createVNode as a,createTextVNode as l,unref as p,useSSRContext as d}from"vue";import{ssrRenderAttrs as u,ssrRenderComponent as c}from"vue/server-renderer";import{b as f,c as v}from"./api-qvnChiK5.mjs";import{C as y,F as g}from"./server.mjs";import{u as h}from"./use-message-DH0YWJK4.mjs";import{N as x}from"./DataTable-BeR9LhSC.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"node:path";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"pinia";import"vue-router";import"@css-render/vue3-ssr";import"seemly";import"@css-render/plugin-bem";import"css-render";import"lodash-es";import"evtd";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";import"./Input-DBNoyZOz.mjs";import"date-fns/locale";import"./Checkbox-uGza85BZ.mjs";import"./Ellipsis-DDM1ZdJ1.mjs";import"./Select-C0U9uRTf.mjs";import"treemate";import"./Tag-BJGgCXYj.mjs";import"@juggle/resize-observer";import"./get-slot-BIpdyb5h.mjs";const j=r({__name:"index",__ssrInlineRender:!0,setup(r){const d=h(),j=i([]),b=i(!1);async function onDelete(e){if(confirm("حذف نوع؟"))try{await f(`/articles/types/${e.id}`),d.success("حذف شد"),async function(){b.value=!0;try{j.value=await v("/articles/types")}finally{b.value=!1}}()}catch(e){d.error(e?.data?.message||"خطا در حذف")}}const D=s(()=>[{title:"نام",key:"name"},{title:"شناسه",key:"id"},{title:"عملیات",key:"actions",render:e=>o("div",{class:"flex items-center gap-2"},[o(y,{size:"small",onClick:()=>function(e){g(`/admin/articles/types/${e.id}`)}(e)},{default:()=>"ویرایش"}),o(y,{size:"small",type:"error",secondary:!0,onClick:()=>onDelete(e)},{default:()=>"حذف"})])}]);return(r,i,s,o)=>{const d=e,f=t;i(`<section${u(n({class:"container mx-auto px-4 py-8",dir:"rtl"},o))}><div class="mb-5 flex items-center justify-between gap-3"><h1 class="text-xl font-bold">نوع مقالات</h1>`),i(c(d,{to:"/admin/articles/types/create",class:"inline-flex items-center gap-2 rounded-xl bg-sky-600 text-white px-3 py-2 text-sm"},{default:m((e,t,r,i)=>{if(!t)return[a(f,{name:"ph:plus"}),l(" افزودن نوع ")];t(c(f,{name:"ph:plus"},null,r,i)),t(" افزودن نوع ")}),_:1},s)),i("</div>"),i(c(p(x),{columns:D.value,data:j.value,loading:b.value,bordered:!1,class:"rounded-2xl ring-1 ring-slate-200 overflow-hidden"},null,s)),i("</section>")}}}),b=j.setup;j.setup=(e,t)=>{const r=d();return(r.modules||(r.modules=new Set)).add("pages/admin/articles/types/index.vue"),b?b(e,t):void 0};export{j as default};
//# sourceMappingURL=index-Dcjm5Cvf.mjs.map
