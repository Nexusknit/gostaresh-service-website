import{_ as e}from"./nuxt-link-DlD_4d-2.mjs";import{defineComponent as a,ref as t,mergeProps as r,withCtx as l,createTextVNode as o,unref as n,createVNode as i,useSSRContext as m}from"vue";import{ssrRenderAttrs as u,ssrRenderComponent as s}from"vue/server-renderer";import{d}from"./api-qvnChiK5.mjs";import{N as p,C as v,F as f}from"./server.mjs";import{u as c}from"./use-message-DH0YWJK4.mjs";import{N as y,a as _}from"./FormItem-Ds_MAETL.mjs";import{N as b}from"./Input-DBNoyZOz.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"node:path";import"pinia";import"vue-router";import"@iconify/vue";import"@css-render/vue3-ssr";import"seemly";import"@css-render/plugin-bem";import"css-render";import"lodash-es";import"evtd";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";import"async-validator";import"date-fns/locale";const h=a({__name:"create",__ssrInlineRender:!0,setup(a){const m=c(),h=t(null),g=t({name:""}),x={name:{required:!0,message:"نام الزامی است",trigger:"blur"}},j=t(!1);async function onSubmit(){try{await(h.value?.validate())}catch{return}j.value=!0;try{await d("/roles",{name:g.value.name}),m.success("ذخیره شد"),f("/admin/roles")}catch(e){m.error(e?.data?.message||"ذخیره انجام نشد")}finally{j.value=!1}}return(a,t,m,d)=>{const f=e;t(`<section${u(r({class:"container mx-auto px-4 py-8",dir:"rtl"},d))}><div class="mb-5 flex items-center justify-between gap-3"><h1 class="text-xl font-bold">افزودن نقش</h1>`),t(s(f,{to:"/admin/roles",class:"text-sky-600 hover:underline text-sm"},{default:l((e,a,t,r)=>{if(!a)return[o("بازگشت")];a("بازگشت")}),_:1},m)),t("</div>"),t(s(n(p),{class:"rounded-2xl ring-1 ring-slate-200/80 shadow-sm",bordered:!1},{default:l((e,a,t,r)=>{if(!a)return[i(n(y),{model:g.value,rules:x,ref_key:"formRef",ref:h,"label-placement":"left","label-width":"140"},{default:l(()=>[i(n(_),{label:"نام",path:"name"},{default:l(()=>[i(n(b),{value:g.value.name,"onUpdate:value":e=>g.value.name=e},null,8,["value","onUpdate:value"])]),_:1}),i("div",{class:"pt-2"},[i(n(v),{type:"primary",loading:j.value,onClick:onSubmit},{default:l(()=>[o("ذخیره")]),_:1},8,["loading"])])]),_:1},8,["model"])];a(s(n(y),{model:g.value,rules:x,ref_key:"formRef",ref:h,"label-placement":"left","label-width":"140"},{default:l((e,a,t,r)=>{if(!a)return[i(n(_),{label:"نام",path:"name"},{default:l(()=>[i(n(b),{value:g.value.name,"onUpdate:value":e=>g.value.name=e},null,8,["value","onUpdate:value"])]),_:1}),i("div",{class:"pt-2"},[i(n(v),{type:"primary",loading:j.value,onClick:onSubmit},{default:l(()=>[o("ذخیره")]),_:1},8,["loading"])])];a(s(n(_),{label:"نام",path:"name"},{default:l((e,a,t,r)=>{if(!a)return[i(n(b),{value:g.value.name,"onUpdate:value":e=>g.value.name=e},null,8,["value","onUpdate:value"])];a(s(n(b),{value:g.value.name,"onUpdate:value":e=>g.value.name=e},null,t,r))}),_:1},t,r)),a(`<div class="pt-2"${r}>`),a(s(n(v),{type:"primary",loading:j.value,onClick:onSubmit},{default:l((e,a,t,r)=>{if(!a)return[o("ذخیره")];a("ذخیره")}),_:1},t,r)),a("</div>")}),_:1},t,r))}),_:1},m)),t("</section>")}}}),g=h.setup;h.setup=(e,a)=>{const t=m();return(t.modules||(t.modules=new Set)).add("pages/admin/roles/create.vue"),g?g(e,a):void 0};export{h as default};
//# sourceMappingURL=create-Bdu7PO0q.mjs.map
