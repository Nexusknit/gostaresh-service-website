import{d as ue,c as pe,av as A,a as S,$ as q,b as Z,h as B,F as P,u as ge,e as ee,g as f,i as ve,w as me,j as I,E as fe,H as D,J as ye,k as C,y as r,s as n,B as l,S as xe,_ as he,T as be,o as u,l as a,D as x,A as h,N as E,C as $,U as _e,V as ke,m as G,q as N,W as X}from"./vp8MPyNN.js";import we from"./QLnPFQ3u.js";import{N as ze,a as qe}from"./mfReoYN0.js";import{N as Y,b as Ce}from"./uD4T5QrJ.js";import{N as R}from"./CXuCsgek.js";import{N as Se}from"./Bw_fySTz.js";import{N as Ne}from"./BMt9G5p1.js";import"./Bk_rJcZu.js";function $e(b){const{textColor1:v,dividerColor:_,fontWeightStrong:m}=b;return{textColor:v,color:_,fontWeight:m}}const Be={common:ue,self:$e},Re=pe("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[A("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[A("no-title",`
 display: flex;
 align-items: center;
 `)]),S("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),q("title-position-left",[S("line",[q("left",{width:"28px"})])]),q("title-position-right",[S("line",[q("right",{width:"28px"})])]),q("dashed",[S("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),q("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),S("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),A("dashed",[S("line",{backgroundColor:"var(--n-color)"})]),q("dashed",[S("line",{borderColor:"var(--n-color)"})]),q("vertical",{backgroundColor:"var(--n-color)"})]),Pe=Object.assign(Object.assign({},ee.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),K=Z({name:"Divider",props:Pe,setup(b){const{mergedClsPrefixRef:v,inlineThemeDisabled:_}=ge(b),m=ee("Divider","-divider",Re,Be,b,v),z=f(()=>{const{common:{cubicBezierEaseInOut:p},self:{color:j,textColor:M,fontWeight:V}}=m.value;return{"--n-bezier":p,"--n-color":j,"--n-text-color":M,"--n-font-weight":V}}),d=_?ve("divider",void 0,z,b):void 0;return{mergedClsPrefix:v,cssVars:_?void 0:z,themeClass:d?.themeClass,onRender:d?.onRender}},render(){var b;const{$slots:v,titlePlacement:_,vertical:m,dashed:z,cssVars:d,mergedClsPrefix:p}=this;return(b=this.onRender)===null||b===void 0||b.call(this),B("div",{role:"separator",class:[`${p}-divider`,this.themeClass,{[`${p}-divider--vertical`]:m,[`${p}-divider--no-title`]:!v.default,[`${p}-divider--dashed`]:z,[`${p}-divider--title-position-${_}`]:v.default&&_}],style:d},m?null:B("div",{class:`${p}-divider__line ${p}-divider__line--left`}),!m&&v.default?B(P,null,B("div",{class:`${p}-divider__title`},this.$slots),B("div",{class:`${p}-divider__line ${p}-divider__line--right`})):null)}}),je={class:"space-y-6",dir:"rtl"},Oe={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},De={class:"flex flex-wrap gap-2 text-xs text-slate-500 md:justify-end"},Ee={class:"space-y-5"},Me={class:"grid gap-3 md:grid-cols-3"},Ve={class:"space-y-2"},Fe={class:"space-y-2"},Te={class:"space-y-2"},Ue={key:0,class:"space-y-2"},Ae={class:"mr-1 text-[11px] text-slate-400"},Ie={class:"flex flex-wrap items-center justify-between gap-3"},Ke={key:0,class:"text-xs text-slate-500"},Le={class:"flex flex-wrap items-center justify-between gap-3"},Qe={class:"text-sm text-slate-500"},We={key:0,class:"grid gap-4 md:grid-cols-2 xl:grid-cols-3"},He={class:"flex flex-col gap-4"},Je={class:"flex items-start justify-between gap-3"},Ge={class:"space-y-2"},Xe={class:"flex items-center gap-2 text-xs text-slate-500"},Ye={class:"flex flex-wrap items-center gap-2 text-xs text-slate-500"},Ze={class:"space-y-2"},it=Z({__name:"policies",async setup(b){let v,_;const m=([v,_]=me(()=>he(()=>import("./D_ibmqrv.js"),[],import.meta.url)),v=await v,_(),v).default,z=t=>({Kingstone:"Kingston",MIKROTIK:"Mikrotik"})[t]||t,d=t=>String(t).replace(/\d/g,e=>"۰۱۲۳۴۵۶۷۸۹"[Number(e)]),p=t=>t.replace(/[۰-۹]/g,e=>"0123456789"["۰۱۲۳۴۵۶۷۸۹".indexOf(e)]),j=f(()=>Array.from(new Set(m.map(t=>z(t.brand)))).sort()),M=f(()=>j.value.length),V=m.length,k=I(""),y=I(null),g=I(null),c=xe(),te=be(),L=t=>p(t.toLowerCase()),se=f(()=>j.value.map(t=>({label:t,value:t}))),ae=f(()=>Array.from(new Set(m.map(t=>t.category))).sort()),le=f(()=>ae.value.map(t=>({label:t,value:t}))),Q=()=>{const t=c.query.brand,e=c.query.category,o=c.query.q,s=typeof t=="string"&&t?z(t):null,w=typeof e=="string"&&e?e:null,J=typeof o=="string"?o:"";y.value!==s&&(y.value=s),g.value!==w&&(g.value=w),k.value!==J&&(k.value=J)};Q();const F=f(()=>{const t=L(k.value||"");return m.map(e=>({...e,brand:z(e.brand)})).filter(e=>{const o=!y.value||e.brand===y.value,s=!g.value||e.category===g.value,w=!t||L(`${e.brand} ${e.category} ${e.product??""} ${e.conditions??""}`).includes(t);return o&&s&&w})}),i=fe({page:1,pageSize:12,pageSizes:[12,24,36],showSizePicker:!0}),O=f(()=>F.value.length),T=f(()=>{const t=(i.page-1)*i.pageSize;return F.value.slice(t,t+i.pageSize)}),oe=f(()=>T.value.length),W=f(()=>{const t=m.reduce((e,o)=>{const s=o.category;return e.set(s,(e.get(s)??0)+1),e},new Map);return Array.from(t.entries()).map(([e,o])=>({value:e,label:e,count:o})).sort((e,o)=>o.count-e.count||e.label.localeCompare(o.label)).slice(0,6)}),U=f(()=>!!(y.value||g.value||k.value.trim())),re=t=>{const e=t.unit==="day"?"روز":"ماه";return`${d(t.value)} ${e}`},ne=(t,e)=>{g.value=e?t:null},H=()=>{y.value=null,g.value=null,k.value=""},ie=()=>{const t={};return y.value&&(t.brand=y.value),g.value&&(t.category=g.value),k.value.trim()&&(t.q=k.value.trim()),t},de=()=>{const t={};return typeof c.query.brand=="string"&&c.query.brand&&(t.brand=c.query.brand),typeof c.query.category=="string"&&c.query.category&&(t.category=c.query.category),typeof c.query.q=="string"&&c.query.q&&(t.q=c.query.q),t},ce=(t,e)=>{const o=Object.keys(t),s=Object.keys(e);return o.length!==s.length?!1:o.every(w=>t[w]===e[w])};return D([y,g,k],()=>{i.page=1;const t=ie(),e=de();ce(e,t)||te.replace({query:t})}),D(()=>[c.query.brand,c.query.category,c.query.q],()=>{Q()}),D(()=>i.pageSize,()=>{i.page=1}),D(F,t=>{const e=Math.max(1,Math.ceil(t.length/i.pageSize));i.page>e&&(i.page=e)}),ye({title:"شرایط گارانتی برندها"}),(t,e)=>{const o=we;return u(),C("div",je,[r(l(E),{bordered:!1,class:"rounded-3xl border border-slate-200/80 bg-gradient-to-l from-sky-50 via-white to-white shadow-sm"},{default:n(()=>[a("div",Oe,[e[6]||(e[6]=a("div",{class:"space-y-3"},[a("h1",{class:"text-xl font-bold"},"شرایط گارانتی برندها"),a("p",{class:"text-sm text-slate-600"}," قوانین پوشش و مدت گارانتی هر برند را بررسی کنید و با فیلترها، سریع‌تر به نتیجه برسید. ")],-1)),a("div",De,[r(l(R),{type:"success",round:"",size:"small",class:"bg-emerald-500/10 text-emerald-700"},{default:n(()=>[x(" مجموع برندها: "+h(d(M.value)),1)]),_:1}),r(l(R),{type:"info",round:"",size:"small",class:"bg-sky-500/10 text-sky-700"},{default:n(()=>[x(" تعداد سیاست‌ها: "+h(d(l(V))),1)]),_:1})])])]),_:1}),r(l(E),{bordered:!1,class:"rounded-3xl border border-slate-200/80 shadow-sm"},{default:n(()=>[a("div",Ee,[a("div",Me,[a("div",Ve,[e[7]||(e[7]=a("span",{class:"text-xs text-slate-500"},"برند",-1)),r(l(Y),{value:y.value,"onUpdate:value":e[0]||(e[0]=s=>y.value=s),options:se.value,placeholder:"انتخاب برند",clearable:"",filterable:"",size:"large"},null,8,["value","options"])]),a("div",Fe,[e[8]||(e[8]=a("span",{class:"text-xs text-slate-500"},"دسته محصول",-1)),r(l(Y),{value:g.value,"onUpdate:value":e[1]||(e[1]=s=>g.value=s),options:le.value,placeholder:"انتخاب دسته",clearable:"",filterable:"",size:"large"},null,8,["value","options"])]),a("div",Te,[e[9]||(e[9]=a("span",{class:"text-xs text-slate-500"},"جستجو در شرایط",-1)),r(l(Se),{value:k.value,"onUpdate:value":e[2]||(e[2]=s=>k.value=s),placeholder:"جستجو در برند، محصول یا شرط...",clearable:"",size:"large",onKeydown:e[3]||(e[3]=_e(ke(()=>{},["prevent"]),["enter"]))},{prefix:n(()=>[r(o,{name:"ph:magnifying-glass-duotone",class:"text-base text-slate-400"})]),_:1},8,["value"])])]),W.value.length?(u(),C("div",Ue,[r(l(K),{dashed:"",class:"!mt-0 !mb-2"},{default:n(()=>[...e[10]||(e[10]=[x("دسته‌های پرجستجو",-1)])]),_:1}),r(l(Ne),{wrap:"",size:[8,8]},{default:n(()=>[(u(!0),C(P,null,G(W.value,s=>(u(),N(l(R),{key:s.value,checkable:"",checked:g.value===s.value,type:g.value===s.value?"primary":"default",size:"small","onUpdate:checked":w=>ne(s.value,w)},{default:n(()=>[x(h(s.label)+" ",1),a("span",Ae,"("+h(d(s.count))+")",1)]),_:2},1032,["checked","type","onUpdate:checked"]))),128))]),_:1})])):$("",!0),a("div",Ie,[U.value?(u(),C("span",Ke,"فیلترهای فعال اعمال شده‌اند.")):$("",!0),U.value?(u(),N(l(X),{key:1,quaternary:"",size:"small",onClick:H},{icon:n(()=>[r(o,{name:"ph:arrow-counter-clockwise-duotone"})]),default:n(()=>[e[11]||(e[11]=x(" پاک‌سازی فیلترها ",-1))]),_:1})):$("",!0)])])]),_:1}),r(l(E),{bordered:!1,class:"rounded-3xl border border-slate-200/80 shadow-sm"},{default:n(()=>[a("div",Le,[a("div",Qe,[O.value?(u(),C(P,{key:0},[x(" نمایش "+h(d(oe.value))+" از "+h(d(O.value))+" سیاست فعال ",1)],64)):(u(),C(P,{key:1},[x("موردی با این فیلترها پیدا نشد.")],64))]),O.value>i.pageSize?(u(),N(l(ze),{key:0,page:i.page,"onUpdate:page":e[4]||(e[4]=s=>i.page=s),"page-size":i.pageSize,"onUpdate:pageSize":e[5]||(e[5]=s=>i.pageSize=s),"page-sizes":i.pageSizes,"show-size-picker":i.showSizePicker,"item-count":O.value,size:"small","page-slot":7,class:"ltr"},null,8,["page","page-size","page-sizes","show-size-picker","item-count"])):$("",!0)]),r(l(K),{class:"!my-4"}),T.value.length?(u(),C("div",We,[(u(!0),C(P,null,G(T.value,s=>(u(),N(l(E),{key:s.id,bordered:!1,class:"group rounded-2xl border border-slate-200/70 bg-white/90 shadow-sm transition-all duration-200 hover:-translate-y-1 hover:shadow-lg"},{default:n(()=>[a("div",He,[a("div",Je,[a("div",Ge,[a("div",Xe,[r(o,{name:"ph:buildings-duotone",class:"text-base text-slate-400"}),a("span",null,h(s.brand),1)]),a("div",Ye,[r(o,{name:"ph:cards-duotone",class:"text-base text-slate-400"}),a("span",null,h(s.category),1),s.product?(u(),N(l(R),{key:0,size:"small",round:"",type:"info",class:"bg-sky-500/10 text-sky-700"},{default:n(()=>[x(h(s.product),1)]),_:2},1024)):$("",!0)])]),r(l(R),{type:"success",round:"",size:"small",class:"bg-emerald-500/10 text-emerald-700"},{default:n(()=>[x(" مدت پوشش: "+h(re(s.duration)),1)]),_:2},1024)]),r(l(K),{class:"!my-0"}),a("div",Ze,[e[12]||(e[12]=a("span",{class:"text-xs font-medium text-slate-500"},"شرایط",-1)),r(l(qe),{"line-clamp":4,"expand-trigger":"click",tooltip:!1,class:"text-sm leading-6 text-slate-600"},{default:n(()=>[x(h(s.conditions||"شرایط خاصی ثبت نشده است."),1)]),_:2},1024)])])]),_:2},1024))),128))])):(u(),N(l(Ce),{key:1,description:"هیچ سیاستی با فیلترهای انتخابی پیدا نشد.",class:"py-12"},{extra:n(()=>[U.value?(u(),N(l(X),{key:0,type:"primary",secondary:"",onClick:H},{default:n(()=>[...e[13]||(e[13]=[x(" بازنشانی فیلترها ",-1)])]),_:1})):$("",!0)]),_:1}))]),_:1})])}}});export{it as default};
