import x from"./QLnPFQ3u.js";import{_ as y}from"./Bno8S_cx.js";import{a as g,c as k}from"./DWH2qXdP.js";import{b as v,j as l,G as b,g as h,k as N,l as c,y as a,s as w,B,h as n,W as m,o as C,D,as as T}from"./vp8MPyNN.js";import{u as V}from"./ybW-YjLz.js";import{N as j}from"./BdE0Vslz.js";import"./Bw_fySTz.js";import"./DTlRyxep.js";import"./mfReoYN0.js";import"./uD4T5QrJ.js";import"./CXuCsgek.js";import"./Bk_rJcZu.js";const z={class:"container mx-auto px-4 py-8",dir:"rtl"},E={class:"mb-5 flex items-center justify-between gap-3"},P=v({__name:"index",setup(G){const o=V(),i=l([]),s=l(!1);async function r(){s.value=!0;try{i.value=await g("/articles/types")}finally{s.value=!1}}b(r);function p(e){T(`/admin/articles/types/${e.id}`)}async function d(e){if(confirm("حذف نوع؟"))try{await k(`/articles/types/${e.id}`),o.success("حذف شد"),r()}catch(t){o.error(t?.data?.message||"خطا در حذف")}}const u=h(()=>[{title:"نام",key:"name"},{title:"شناسه",key:"id"},{title:"عملیات",key:"actions",render(e){return n("div",{class:"flex items-center gap-2"},[n(m,{size:"small",onClick:()=>p(e)},{default:()=>"ویرایش"}),n(m,{size:"small",type:"error",secondary:!0,onClick:()=>d(e)},{default:()=>"حذف"})])}}]);return(e,t)=>{const f=x,_=y;return C(),N("section",z,[c("div",E,[t[1]||(t[1]=c("h1",{class:"text-xl font-bold"},"نوع مقالات",-1)),a(_,{to:"/admin/articles/types/create",class:"inline-flex items-center gap-2 rounded-xl bg-sky-600 text-white px-3 py-2 text-sm"},{default:w(()=>[a(f,{name:"ph:plus"}),t[0]||(t[0]=D(" افزودن نوع ",-1))]),_:1})]),a(B(j),{columns:u.value,data:i.value,loading:s.value,bordered:!1,class:"rounded-2xl ring-1 ring-slate-200 overflow-hidden"},null,8,["columns","data","loading"])])}}});export{P as default};
