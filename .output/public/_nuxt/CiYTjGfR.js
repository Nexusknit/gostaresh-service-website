import{_ as N}from"./Bno8S_cx.js";import{A as y}from"./DKL51_I7.js";import{a as w,d as _}from"./DWH2qXdP.js";import{b as I,j as r,G as U,g as D,k as A,l as m,y as a,s,B as l,o as V,D as b,W as B,N as h,as as C}from"./vp8MPyNN.js";import{u as S}from"./ybW-YjLz.js";import{N as j,a as u}from"./DToeYN_d.js";import{N as o}from"./Bw_fySTz.js";import{N as q}from"./uD4T5QrJ.js";import{N as F}from"./r23Yv2v_.js";import"./CXuCsgek.js";const G={class:"container mx-auto px-4 py-8",dir:"rtl"},M={class:"mb-5 flex items-center justify-between gap-3"},R={class:"pt-2"},X=I({__name:"create",setup(T){const v=S(),p=r(null),e=r({name:"",title:"",description:"",image:"",attribute:"",href:"",kindID:"",isActive:!0}),d=r(!1),f=r([]);U(async()=>{try{f.value=await w("/website-setting-kinds")}catch{}});const g=D(()=>f.value.map(n=>({label:n.name||n.id,value:n.id}))),c={name:{required:!0,message:"نام الزامی است",trigger:"blur"},kindID:{required:!0,message:"نوع الزامی است",trigger:"blur"}};async function k(){try{await p.value?.validate()}catch{return}d.value=!0;try{await _("/website-settings",{name:e.value.name,title:e.value.title||void 0,description:e.value.description||void 0,image:e.value.image||void 0,attribute:e.value.attribute||void 0,href:e.value.href||void 0,kindID:e.value.kindID,isActive:e.value.isActive}),v.success("ثبت شد"),C("/admin/website-settings")}catch(n){v.error(n?.data?.message||"خطا در ثبت")}finally{d.value=!1}}return(n,t)=>{const x=N;return V(),A("section",G,[m("div",M,[t[9]||(t[9]=m("h1",{class:"text-xl font-bold"},"افزودن تنظیم سایت",-1)),a(x,{to:"/admin/website-settings",class:"text-sky-600 hover:underline text-sm"},{default:s(()=>[...t[8]||(t[8]=[b("بازگشت",-1)])]),_:1})]),a(l(h),{class:"rounded-2xl ring-1 ring-slate-200/80 shadow-sm",bordered:!1},{default:s(()=>[a(l(j),{model:e.value,rules:c,ref_key:"formRef",ref:p,"label-placement":"left","label-width":"140"},{default:s(()=>[a(l(u),{label:"نام",path:"name"},{default:s(()=>[a(l(o),{value:e.value.name,"onUpdate:value":t[0]||(t[0]=i=>e.value.name=i)},null,8,["value"])]),_:1}),a(l(u),{label:"عنوان",path:"title"},{default:s(()=>[a(l(o),{value:e.value.title,"onUpdate:value":t[1]||(t[1]=i=>e.value.title=i)},null,8,["value"])]),_:1}),a(l(u),{label:"توضیحات",path:"description"},{default:s(()=>[a(l(o),{value:e.value.description,"onUpdate:value":t[2]||(t[2]=i=>e.value.description=i),type:"textarea"},null,8,["value"])]),_:1}),a(l(u),{label:"تصویر",path:"image"},{default:s(()=>[a(y,{modelValue:e.value.image,"onUpdate:modelValue":t[3]||(t[3]=i=>e.value.image=i),scope:"website-settings"},null,8,["modelValue"])]),_:1}),a(l(u),{label:"attribute",path:"attribute"},{default:s(()=>[a(l(o),{value:e.value.attribute,"onUpdate:value":t[4]||(t[4]=i=>e.value.attribute=i)},null,8,["value"])]),_:1}),a(l(u),{label:"لینک",path:"href"},{default:s(()=>[a(l(o),{value:e.value.href,"onUpdate:value":t[5]||(t[5]=i=>e.value.href=i)},null,8,["value"])]),_:1}),a(l(u),{label:"نوع",path:"kindID"},{default:s(()=>[a(l(q),{value:e.value.kindID,"onUpdate:value":t[6]||(t[6]=i=>e.value.kindID=i),options:g.value,filterable:""},null,8,["value","options"])]),_:1}),a(l(u),{label:"فعال"},{default:s(()=>[a(l(F),{value:e.value.isActive,"onUpdate:value":t[7]||(t[7]=i=>e.value.isActive=i)},null,8,["value"])]),_:1}),m("div",R,[a(l(B),{type:"primary",loading:d.value,onClick:k},{default:s(()=>[...t[10]||(t[10]=[b("ثبت",-1)])]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})])}}});export{X as default};
