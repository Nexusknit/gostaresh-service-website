import{_ as v}from"./Bno8S_cx.js";import{d as x}from"./DWH2qXdP.js";import{b as y,j as n,k as g,l,y as t,s as a,B as s,o as b,D as d,W as N,N as k,as as w}from"./vp8MPyNN.js";import{u as B}from"./ybW-YjLz.js";import{N as h,a as C}from"./DToeYN_d.js";import{N as V}from"./Bw_fySTz.js";const j={class:"container mx-auto px-4 py-8",dir:"rtl"},F={class:"mb-5 flex items-center justify-between gap-3"},I={class:"pt-2"},P=y({__name:"create",setup(R){const m=B(),i=n(null),o=n({name:""}),r=n(!1),f={name:{required:!0,message:"نام الزامی است",trigger:"blur"}};async function c(){try{await i.value?.validate()}catch{return}r.value=!0;try{await x("/articles/types",{name:o.value.name}),m.success("ثبت شد"),w("/admin/articles/types")}catch(u){m.error(u?.data?.message||"خطا در ثبت")}finally{r.value=!1}}return(u,e)=>{const p=v;return b(),g("section",j,[l("div",F,[e[2]||(e[2]=l("h1",{class:"text-xl font-bold"},"افزودن نوع مقاله",-1)),t(p,{to:"/admin/articles/types",class:"text-sky-600 hover:underline text-sm"},{default:a(()=>[...e[1]||(e[1]=[d("بازگشت",-1)])]),_:1})]),t(s(k),{class:"rounded-2xl ring-1 ring-slate-200/80 shadow-sm",bordered:!1},{default:a(()=>[t(s(h),{model:o.value,rules:f,ref_key:"formRef",ref:i,"label-placement":"left","label-width":"140"},{default:a(()=>[t(s(C),{label:"نام",path:"name"},{default:a(()=>[t(s(V),{value:o.value.name,"onUpdate:value":e[0]||(e[0]=_=>o.value.name=_)},null,8,["value"])]),_:1}),l("div",I,[t(s(N),{type:"primary",loading:r.value,onClick:c},{default:a(()=>[...e[3]||(e[3]=[d("ثبت",-1)])]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})])}}});export{P as default};
