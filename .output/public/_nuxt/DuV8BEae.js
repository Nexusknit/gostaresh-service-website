import{_}from"./Bno8S_cx.js";import{d as x}from"./DWH2qXdP.js";import{b as w,j as m,k as y,l as i,y as a,s as r,B as t,o as c,D as v,W as k,N as B,as as U}from"./vp8MPyNN.js";import{u as C}from"./ybW-YjLz.js";import{N as V,a as u}from"./DToeYN_d.js";import{N as o}from"./Bw_fySTz.js";const j={class:"container mx-auto px-4 py-8",dir:"rtl"},q={class:"mb-5 flex items-center justify-between gap-3"},F={class:"pt-2"},P=w({__name:"create",setup(I){const d=C(),f=m(null),s=m({firstName:"",lastName:"",userName:"",email:"",password:""}),N={userName:{required:!0,message:"نام کاربری الزامی است",trigger:"blur"},password:{required:!0,message:"رمز عبور الزامی است",trigger:"blur"}},n=m(!1);async function b(){try{await f.value?.validate()}catch{return}n.value=!0;try{await x("/users",s.value),d.success("ذخیره شد"),U("/admin/users")}catch(p){d.error(p?.data?.message||"ذخیره انجام نشد")}finally{n.value=!1}}return(p,e)=>{const g=_;return c(),y("section",j,[i("div",q,[e[6]||(e[6]=i("h1",{class:"text-xl font-bold"},"افزودن کاربر",-1)),a(g,{to:"/admin/users",class:"text-sky-600 hover:underline text-sm"},{default:r(()=>[...e[5]||(e[5]=[v("بازگشت",-1)])]),_:1})]),a(t(B),{class:"rounded-2xl ring-1 ring-slate-200/80 shadow-sm",bordered:!1},{default:r(()=>[a(t(V),{model:s.value,rules:N,ref_key:"formRef",ref:f,"label-placement":"left","label-width":"140"},{default:r(()=>[a(t(u),{label:"نام",path:"firstName"},{default:r(()=>[a(t(o),{value:s.value.firstName,"onUpdate:value":e[0]||(e[0]=l=>s.value.firstName=l)},null,8,["value"])]),_:1}),a(t(u),{label:"نام خانوادگی",path:"lastName"},{default:r(()=>[a(t(o),{value:s.value.lastName,"onUpdate:value":e[1]||(e[1]=l=>s.value.lastName=l)},null,8,["value"])]),_:1}),a(t(u),{label:"نام کاربری",path:"userName"},{default:r(()=>[a(t(o),{value:s.value.userName,"onUpdate:value":e[2]||(e[2]=l=>s.value.userName=l)},null,8,["value"])]),_:1}),a(t(u),{label:"ایمیل",path:"email"},{default:r(()=>[a(t(o),{value:s.value.email,"onUpdate:value":e[3]||(e[3]=l=>s.value.email=l)},null,8,["value"])]),_:1}),a(t(u),{label:"رمز عبور",path:"password"},{default:r(()=>[a(t(o),{value:s.value.password,"onUpdate:value":e[4]||(e[4]=l=>s.value.password=l),type:"password"},null,8,["value"])]),_:1}),i("div",F,[a(t(k),{type:"primary",loading:n.value,onClick:b},{default:r(()=>[...e[7]||(e[7]=[v("ذخیره",-1)])]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})])}}});export{P as default};
