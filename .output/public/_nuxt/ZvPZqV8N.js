import{_ as v}from"./Bno8S_cx.js";import{d as x}from"./DWH2qXdP.js";import{b as g,j as n,k as b,l,y as a,s as t,B as s,o as y,D as d,W as N,N as k,as as w}from"./vp8MPyNN.js";import{u as B}from"./ybW-YjLz.js";import{N as h,a as C}from"./DToeYN_d.js";import{N as V}from"./Bw_fySTz.js";const j={class:"container mx-auto px-4 py-8",dir:"rtl"},F={class:"mb-5 flex items-center justify-between gap-3"},I={class:"pt-2"},P=g({__name:"create",setup(R){const m=B(),u=n(null),o=n({name:""}),f={name:{required:!0,message:"نام الزامی است",trigger:"blur"}},r=n(!1);async function c(){try{await u.value?.validate()}catch{return}r.value=!0;try{await x("/roles",{name:o.value.name}),m.success("ذخیره شد"),w("/admin/roles")}catch(i){m.error(i?.data?.message||"ذخیره انجام نشد")}finally{r.value=!1}}return(i,e)=>{const p=v;return y(),b("section",j,[l("div",F,[e[2]||(e[2]=l("h1",{class:"text-xl font-bold"},"افزودن نقش",-1)),a(p,{to:"/admin/roles",class:"text-sky-600 hover:underline text-sm"},{default:t(()=>[...e[1]||(e[1]=[d("بازگشت",-1)])]),_:1})]),a(s(k),{class:"rounded-2xl ring-1 ring-slate-200/80 shadow-sm",bordered:!1},{default:t(()=>[a(s(h),{model:o.value,rules:f,ref_key:"formRef",ref:u,"label-placement":"left","label-width":"140"},{default:t(()=>[a(s(C),{label:"نام",path:"name"},{default:t(()=>[a(s(V),{value:o.value.name,"onUpdate:value":e[0]||(e[0]=_=>o.value.name=_)},null,8,["value"])]),_:1}),l("div",I,[a(s(N),{type:"primary",loading:r.value,onClick:c},{default:t(()=>[...e[3]||(e[3]=[d("ذخیره",-1)])]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})])}}});export{P as default};
