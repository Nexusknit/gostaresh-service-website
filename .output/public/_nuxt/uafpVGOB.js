import{_ as w}from"./Bno8S_cx.js";import{b as N,S as B,j as l,G as C,k as h,l as m,y as t,s as a,B as s,o as j,D as f,W as p,N as D,as as R}from"./vp8MPyNN.js";import{a as S,b as V,c as $}from"./DWH2qXdP.js";import{u as F}from"./ybW-YjLz.js";import{N as G,a as I}from"./DToeYN_d.js";import{N as M}from"./Bw_fySTz.js";const T={class:"container mx-auto px-4 py-8",dir:"rtl"},q={class:"mb-5 flex items-center justify-between gap-3"},E={class:"pt-2 flex items-center gap-2"},H=N({__name:"[id]",setup(L){const g=B(),i=String(g.params.id),o=F(),c=l(null),n=l({name:""}),v={name:{required:!0,message:"نام الزامی است",trigger:"blur"}},u=l(!1),d=l(!1);C(y);async function y(){try{Object.assign(n.value,await S(`/website-setting-kinds/${i}`)||{})}catch{}}async function _(){try{await c.value?.validate()}catch{return}u.value=!0;try{await V(`/website-setting-kinds/${i}`,{name:n.value.name}),o.success("ذخیره شد")}catch(r){o.error(r?.data?.message||"خطا در ذخیره")}finally{u.value=!1}}async function b(){if(confirm("حذف نوع؟")){d.value=!0;try{await $(`/website-setting-kinds/${i}`),o.success("حذف شد"),R("/admin/website-setting-kinds")}catch(r){o.error(r?.data?.message||"خطا در حذف")}finally{d.value=!1}}}return(r,e)=>{const x=w;return j(),h("section",T,[m("div",q,[e[2]||(e[2]=m("h1",{class:"text-xl font-bold"},"ویرایش نوع تنظیمات",-1)),t(x,{to:"/admin/website-setting-kinds",class:"text-sky-600 hover:underline text-sm"},{default:a(()=>[...e[1]||(e[1]=[f("بازگشت",-1)])]),_:1})]),t(s(D),{class:"rounded-2xl ring-1 ring-slate-200/80 shadow-sm",bordered:!1},{default:a(()=>[t(s(G),{model:n.value,rules:v,ref_key:"formRef",ref:c,"label-placement":"left","label-width":"140"},{default:a(()=>[t(s(I),{label:"نام",path:"name"},{default:a(()=>[t(s(M),{value:n.value.name,"onUpdate:value":e[0]||(e[0]=k=>n.value.name=k)},null,8,["value"])]),_:1}),m("div",E,[t(s(p),{type:"primary",loading:u.value,onClick:_},{default:a(()=>[...e[3]||(e[3]=[f("ذخیره",-1)])]),_:1},8,["loading"]),t(s(p),{type:"error",secondary:"",loading:d.value,onClick:b},{default:a(()=>[...e[4]||(e[4]=[f("حذف",-1)])]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})])}}});export{H as default};
